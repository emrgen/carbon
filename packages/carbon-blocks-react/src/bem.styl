@import "bem_tabs.styl"

$lineHeight = 28px
$selectionHaloColor = #accef78d

.croot
  width: 100%;
  height: 100%
  background: #f5f5f5

  ::selection
    background: $selectionHaloColor

.document-wrapper
  overflow auto
  background #fff

.cpage
  flex 1
  padding 0 calc(50% - 360px)
  padding-top: 80px;
  padding-bottom: 240px;

  > div
    scroll-margin-bottom 100px


// text
#ct
  white-space pre-wrap

// block
.bullet-list
.number-list
.todo
.collapsible
.callout
.paragraph
  margin-top 2px
  position relative;
  line-height: $lineHeight

// page title
.cpage > .title
  font-size 2.8em
  font-weight bold
  line-height 48px
  margin-bottom 20px

  // placeholder
  &:after
    top 8px // related to height of the page title

  [data-name=emoji]
    margin 0 4px

.cpage > .cnest
  margin-left 0

//title
.bullet-list
.number-list
.todo
.collapsible
.callout
.quote
  > .ctiw > .title
    flex 1
    padding 2px

.quote
.paragraph
  > .title
    flex 1
    padding 2px

    &:after
      padding-left 2px;

// placeholder
.placeholder
  position absolute
  content attr(placeholder)
  left 0
  top 0
  pointer-events: none
  user-select none
  opacity: 0.4

// title wrapper
.ctiw
  line-height $lineHeight
  display: flex
  align-content: flex-start

// nested children
.cnest
  margin-left 26px

// section
.paragraph > .title:after
  @extend .placeholder

// bullet list
.bullet-list > .ctiw > .title
  margin-left: 26px
  &:after
    padding-left 2px;

.bullet-list > .ctiw > .title:after
  @extend .placeholder

.bullet-list__marker
  line-height $lineHeight
  padding 2px 8px
  user-select: none
  position absolute
  left 0
  font-size 0.6em

// todo list
.todo > .ctiw > .title
  margin-left: 26px
  flex 1
  &:after
    padding-left 2px;


.todo > .ctiw > .title:after
  @extend .placeholder

//left 26px

.todo__checkbox
  display flex
  padding 8px 2px
  position absolute;
  input[type=checkbox]
    appearance none
    margin 0
    border 1px solid #ccc
    height 1.1em
    width 1.1em
    border-radius 2px
    cursor pointer
    &:checked
      background #0073e6
      border-color #0073e6
    &:before
      content ""
      display block
      width 0.58em
      height 0.58em
      background white
      position relative
      top 0.2em
      left 0.2em

.collapsible > .ctiw > .title
  margin-left: 26px
  flex 1

.collapsible > .ctiw > .title:after
  @extend .placeholder
  left 26px

.collapsible__control
  display flex
  position absolute;
  align-items center
  justify-content center
  cursor pointer
  border-radius 6px
  height 32px
  width 24px
  svg
    z-index 10
  &:before
    position absolute;
    content ""
    display block
    width 18px
    height 20px
    border 2px solid white
    border-radius 6px

  &:hover
    &:before
      background #eee

.collapsible[data-collapsed="true"]
  .cnest
  .collapsible-empty-content
    display none

.number-list > .ctiw > .title
  &:after
    padding-left 2px;

.cnl__ti
  margin-left: 28px
  flex 1

.cnl__label
  width 28px;
  display flex
  line-height $lineHeight
  justify-content end
  padding 2px 10px
  user-select: none
  position absolute;


.quote
  > .title:after
    top -2px
  > .cnest
    margin-left 0

    > .number-list
      padding-left 0;

// callout
.callout
  background: #FBF3DB;
  padding: 10px 16px
  border-radius 4px
  box-shadow 0 0 0 2px #f4d999 inset
  margin: 10px 0
  > .title:after
    padding-left 2px
    top -2px

  > [data-name=title]
    padding-left 2px;

  > .cnest
    margin-left 0px

    > .number-list
      padding-left 0;

// divider
.cdiv
  outline: none
  position relative
  cursor default
  height: 15px
  margin-bottom: 1px
  caret-color: transparent;

.cdiv__line
  position relative
  top: 7px
  height: 2px
  width: 100%
  background: #eee

// divider end

// header
.h-1
.h-2
.h-3
.h-4
  > .title
    padding 2px
    &:after
      padding-left 2px

.h-1
  margin-top 0.8em
  margin-bottom 0.3em

.h-2
  margin-top 0.7em
  margin-bottom 0.3em

.h-3
  margin-top 0.6em
  margin-bottom 0.3em

.h-4
  margin-top 0.6em
  margin-bottom 0.3em

.h1__title
  font-size 2.2em
  font-weight bold
  line-height 1.2em
  margin-top 0.6em;

.h-1 > .title
  @extend .h1__title
  &:after
    top 4px

.h2__title
  font-size: 1.6em
  font-weight: bold
  line-height: 1.2em
  margin-top 0.6em;

.h-2 > .title
  @extend .h2__title

.h3__title
  font-size: 1.4em
  font-weight: bold
  line-height: 1.2em

.h-3 > .title
  @extend .h3__title
  &:after
    top -3px

.h4__title
  font-size: 1.2em
  font-weight: bold
  line-height: 1.2em

.h-4 > .title
  @extend .h4__title
  &:after
    top -3px
// header end

// code
pre
  white-space pre-wrap
  line-height 1.5em
  //padding 10px
  margin 0
  background #f8f8f8
  border-radius 4px
  font-family "Geist Mono", monospace

[data-name=code]
  tab-size 2;
  position relative;
  > .title
    color transparent
    z-index 2

// enable line numbers
[data-name=code].line-number
  > .title
    padding-left 36px
  &.line-numbers-2 > .title
    padding-left: 46px;
  .carbon-code-block-highlight
    code {
      counter-reset: step;
      counter-increment: step 0;
    }

    code .line::before {
      content: counter(step);
      counter-increment: step;
      width: 16px;
      margin-right: 20px;
      display: inline-block;
      text-align: right;
      color: rgba(115,138,148,.4)
      font-family "Geist Mono", monospace
      //background red
    }

    &.line-numbers-2 code .line::before {
      width: 26px;
    }

    &.line-numbers-3 code .line::before {
      width: 36px;
    }



select#carbon-code-themes
  user-select none
  position absolute;
  width 200px
  height 20px
  top 6px
  right 6px
  z-index 1
  border-radius 4px
  outline none
  padding-right 6px;

.carbon-code-block-highlight
  user-select none
  ::selection
    background: transparent

  pre
    position absolute;
    width 100%;
    height 100%;
    top 0px;
    left 0
    padding: 24px 20px

  code
    font-size 15px
    font-family "Geist Mono", monospace

.shiki.github-light
  background #eee!important

.carbon-pre-highlight
  position absolute;
  padding: 24px 20px
  top 0
  left 0
  width 100%;
  z-index 1

.carbon-code-highlight
  pointer-events none
  user-select none
  font-family "Geist Mono", monospace
  font-size 15px

.token-line
  display: block

.collapsible[data-as="h1"]
  margin-top 0.8em;

  .ctiw > .title
    @extend .h1__title
    margin-bottom 0.1em;

  .collapsible__control
    font-size 1.3em
    margin-top 6px;

.collapsible[data-as="h2"]
  margin-top 0.6em;

  .ctiw > .title
    @extend .h2__title
    margin-bottom 0.1em;

  .collapsible__control
    font-size 1.1em
    margin-top 2px;

.collapsible[data-as="h3"]
  margin-top 0.6em;

  .ctiw > .title
    @extend .h3__title

  .collapsible__control
    font-size 1.1em

.collapsible[data-as="h4"]
  margin-top 0.6em;

  .ctiw > .title
    @extend .h4__title

  .collapsible__control
    font-size 1em
    margin-top -2px;

.emoji
  margin 0 2px

.mention
  background: #efefef
  padding: 2px 0
  border-radius: 8px
  margin: 0 2px
  cursor pointer

/*custom scrollbars for page*/
.document-wrapper::-webkit-scrollbar {
  width: 10px;
  background-color: #f5f5f5;
}

/*thumb radius*/
.document-wrapper::-webkit-scrollbar-thumb {
  background-color: #aaa;
  border-radius: 10px;
}

.empty-zero-width-space
  font-stretch expanded

[data-name=continue]
  position relative;

[data-name=button][data-size=lg] .carbon-button
  font-size 1.1em
  padding 0.5em 1em
  border-radius 50px

[data-name=plainText]
  display flex

  &:after
    content: attr(placeholder)
    color white
    opacity 0.5
    user-select none
    z-index 1
    pointer-events none

[data-name=continue] [data-name=plainText]
  justify-content center

[contenteditable=true]
  -webkit-user-modify: read-write-plaintext-only

.newline
  display block